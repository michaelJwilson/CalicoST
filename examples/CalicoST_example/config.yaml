# NB path to SNP (het) definition file for conditional calling and reference panel for phasing
region_vcf: "/scratch/tmp/mw9568/calico/CalicoST_example/snps/genome1K.phase3.SNP_AF5e4.chr1toX.hg38.vcf.gz"
phasing_panel: "/scratch/tmp/mw9568/calico/CalicoST_example/phasing/1000G_hg38"

# NB path to Visium 10x read-depth-ratio output
spaceranger_dir: "/scratch/tmp/mw9568/calico/CalicoST_example/outs/"

# Qs what are these? annotation files for genes and SNPs @ GRCh38.
filtergenelist_file: "/scratch/tmp/mw9568/calico/CalicoST_example/GRCh38_resources/ig_gene_list.txt"
filterregion_file: "/scratch/tmp/mw9568/calico/CalicoST_example/GRCh38_resources/HLA_regions.bed"

tumorprop_file: None
hgtable_file: "/scratch/tmp/mw9568/calico/CalicoST_example/GRCh38_resources/hgTables_hg38_gencode.txt"

# NB required by eagle.
geneticmap_file: "/scratch/tmp/mw9568/calico/CalicoST_example/GRCh38_resources/genetic_map_GRCh38_merged.tab"

# NB directories for output allele matrices generated by the pipeline that are a required input CalicoST
output_snpinfo: "/scratch/tmp/mw9568/calico/CalicoST_example/snpinfo"
outputdir_calicost: "/scratch/tmp/mw9568/calico/CalicoST_example/calicost"

# runtime parameters
samtools_sorting_mem: "4G" # only used when jointly calling from multiple slices

# cellsnp-lite
UMItag: "Auto"
cellTAG: "CB"
nthreads_cellsnplite: 32

# eagle phasing
chromosomes: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22]

# CalicoST parameters
random_state: [0]

# HMRF configurations
# TODO HACK n_clones: 3
n_clones : 1 
n_clones_rdr : 2
min_spots_per_clone : 100
min_avgumi_per_clone : 10
maxspots_pooling : 7
tumorprop_threshold : 0.5

# TODO HACK max_iter_outer : 20
max_iter_outer : 10
nodepotential : weighted_sum
initialization_method : rectangle
spatial_weight : 1.0
construct_adjacency_method : hexagon
construct_adjacency_w : 1.0

# HMM configurations
n_states : 7
params : smp
t : 1-1e-5
t_phaseing : 0.9999
fix_NB_dispersion : False
shared_NB_dispersion : True
fix_BB_dispersion : False
shared_BB_dispersion : True
max_iter : 30
tol : 0.0001
gmm_random_state : 0
np_threshold : 1.0
np_eventminlen : 10
